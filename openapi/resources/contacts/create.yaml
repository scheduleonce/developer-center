contacts-create:
  post:
    tags:
      - "Contacts"
    summary: Add a new contact
    description: |
      Create a new contact in your OnceHub account

      > [!note]
      > Either `email` or `mobile_phone` is required - at least one must be provided
    operationId: add-a-new-contact
    requestBody:
      required: true
      content:
        application/json:
          schema:
            allOf:
              - $ref: "../../components/schemas/contact.yaml#/Contact"
              - type: object
                required:
                  - first_name
                  - last_name
    responses:
      "200":
        description: "200"
        content:
          application/json:
            examples:
              Result:
                value:
                  object: contact
                  id: CTC-J4FR05BKEW
                  source: OHAPI
                  email: carrie.customer@gmail.com
                  first_name: Carrie
                  last_name: Customer
                  mobile_phone: "+12025550195"
                  company: null
                  job_title: null
                  phone: null
                  salutation: null
                  street_address: null
                  city: New York
                  state: null
                  post_code: null
                  country: null
                  timezone: America/New_York
                  company_size: null
                  employees: 1
                  status: Qualified
                  has_consent: false
                  terms_of_sevice: null
                  owner: USR-FSD423423
                  custom_fields:
                    - name: resume
                      value: null
                  creation_time: "2025-01-09T10:30:00Z"
                  last_updated_time: "2025-01-09T10:30:00Z"
                  last_interacted_time: null
            schema:
              $ref: "../../components/schemas/contact.yaml#/Contact"
      "400":
        description: "400"
        content:
          application/json:
            examples:
              "Required fields missing":
                value:
                  type: invalid_request_error
                  message: "Either email or mobile_phone is required"
                  param: email
              "First name required":
                value:
                  type: invalid_request_error
                  message: "first_name is required"
                  param: first_name
              "Last name required":
                value:
                  type: invalid_request_error
                  message: "last_name is required"
                  param: last_name
              "Invalid email format":
                value:
                  type: invalid_request_error
                  message: "Invalid email format: 'invalid-email'"
                  param: email
              "Invalid mobile phone":
                value:
                  type: invalid_request_error
                  message: "Invalid mobile_phone format"
                  param: mobile_phone
              "Unsupported fields":
                value:
                  type: invalid_request_error
                  message: "Unsupported fields"
                  param: "{param_name}"
            schema:
              $ref: "../../components/schemas/common.yaml#/Error"
      "409":
        description: "409"
        content:
          application/json:
            examples:
              "Contact already exists":
                value:
                  type: invalid_request_error
                  message: "Contact already exists: CTC-J4FR05BKEW"
                  param: email
            schema:
              $ref: "../../components/schemas/common.yaml#/Error"
    deprecated: false
